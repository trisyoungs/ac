# Set language for the project
language: cpp

# Package dependencies
addons:
  apt:
    packages:
      - bison
      - pkg-config
      - libtool
      - automake
  homebrew:
    packages:
      - bison

# Build Stages
jobs:
  include:
    - stage: Build
      name: Linux
      os: linux
      script: ./ci/ubuntu.trusty/ubuntu.build
      cache:
        directories:
          - artifacts
      deploy:
        provider: releases
        api_key:
          secure: SVpnGzv6gRzLz0UyGfj/Fpa9iN7swyuTa8eCL5fxeJpExUQTm6dImPeT7H51uFT3IQSHOmBrQP6DpKUxtIwm77CHEOi7TvH/qC/Tkv9ULwxvAv00krtdFk8QRNcqMY4ToG9OqSDSzLNQ/dMs0nzlCGjnQUobgGFa2QOm8NbZU7PgSJHGs2Q97juaNxiA4NEG6nhYOhVkKkm5CqpfSSH3riVMa5tkjefvLvCDWbti0DCK3euadfMreRtfPggc5uNj+wHQFacWlWBNHilf/0OvokNFQ+jRsPxs+PDpYn5JQSGTM+vRrngUsa3tsomRVH5lfpZXKEj8NqtcauSgyxTHElEvQerAb6v4ONlxEwWcw66Pt8R7jdkd3SMmmhYHP1CpYpV4awSrv0ygwi2NrkUvuWkXKZX0qRsqAA+dbMJOoNHLVnxrbXBU/GVDxxSSpKt7jPT+r4+Au3Q5XkAAdujSDZR8HeNikQEqQKsWlB//bK6PtaW5eX/DiV2fP3Nzbjv4jH9yoqJf7OeoYJdnBgE/AhqIFwTv0T2LTH+l1uRFVID+G9ALlL1cGxsXH2qBDoE+qwZmACqsw09ZAbewYj1Q461uypbvNb/mLmSJ0fWIAweWobuUAkxhhaOjRKMYfJkTeIbs09xcMfwT6EYYpWh5YCSpxxYfBDBTW54Q+b186yY=
        file: artifacts/*AppImage
    - stage: Build
      name: OSX
      os: osx
      cache:
        directories:
          - artifacts
      script: ./ci/osx.highsierra/osx.build
      deploy:
        provider: releases
        api_key:
          secure: SVpnGzv6gRzLz0UyGfj/Fpa9iN7swyuTa8eCL5fxeJpExUQTm6dImPeT7H51uFT3IQSHOmBrQP6DpKUxtIwm77CHEOi7TvH/qC/Tkv9ULwxvAv00krtdFk8QRNcqMY4ToG9OqSDSzLNQ/dMs0nzlCGjnQUobgGFa2QOm8NbZU7PgSJHGs2Q97juaNxiA4NEG6nhYOhVkKkm5CqpfSSH3riVMa5tkjefvLvCDWbti0DCK3euadfMreRtfPggc5uNj+wHQFacWlWBNHilf/0OvokNFQ+jRsPxs+PDpYn5JQSGTM+vRrngUsa3tsomRVH5lfpZXKEj8NqtcauSgyxTHElEvQerAb6v4ONlxEwWcw66Pt8R7jdkd3SMmmhYHP1CpYpV4awSrv0ygwi2NrkUvuWkXKZX0qRsqAA+dbMJOoNHLVnxrbXBU/GVDxxSSpKt7jPT+r4+Au3Q5XkAAdujSDZR8HeNikQEqQKsWlB//bK6PtaW5eX/DiV2fP3Nzbjv4jH9yoqJf7OeoYJdnBgE/AhqIFwTv0T2LTH+l1uRFVID+G9ALlL1cGxsXH2qBDoE+qwZmACqsw09ZAbewYj1Q461uypbvNb/mLmSJ0fWIAweWobuUAkxhhaOjRKMYfJkTeIbs09xcMfwT6EYYpWh5YCSpxxYfBDBTW54Q+b186yY=
        file: artifacts/*dmg
